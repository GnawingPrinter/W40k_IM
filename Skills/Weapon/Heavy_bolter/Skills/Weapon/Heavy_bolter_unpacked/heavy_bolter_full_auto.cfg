
nameid=Heavy_bolter_Full_auto
descid=Heavy_bolter_Full_auto

activationtype=on_off
casttarget.casttargets=area,soldier,cover
casttarget.targetside=enemy
resourcecost.values=1.0,0
cooldown.values=0.5,0
globalcooldown.values=0.5,0
unpausecooldownstateid=postcast
animbodyregionlevel=2
category=ranged
weaponcategory=heavygun
flags=instant_cast
tags=long_range,channeled,spread_wide,single_target,traumatize

statecount=3
state[0].id=precast
state[0].animinfo.animtype=channeled
state[0].animinfo.fromevent=shoot_begin
state[0].animinfo.toevent=loop_begin
state[0].animinfo.endstateevent=state_end
state[0].flags=update_cast_target_from_command

state[1].id=default
state[1].duration.values=-1.0,0
state[1].animinfo.animtype=channeled
state[1].animinfo.fromevent=loop_begin
state[1].animinfo.toevent=loop_end
state[1].animinfo.animtime.values=0.250,0
state[1].animinfo.looping=1
state[1].flags=check_command,update_cast_target_from_command


state[2].id=postcast
state[2].animinfo.animtype=channeled
state[2].animinfo.fromevent=loop_end
state[2].animinfo.unlockcommandevent=unlock_command


movercount=2
mover[0].type=snap_to_location
mover[0].stateids=default
mover[0].linktarget=artifact
mover[0].location.linktype=socket
mover[0].location.linkto=socket_gun_end
mover[0].location.orientaxisdir=negative_y
mover[0].continuouslink=1

mover[1].type=follow_command_target
mover[1].stateids=default
mover[1].movertarget=cast_position
mover[1].speed.values=20.0,0
mover[1].mindistance=4.0

targetgroupcount=1
targetgroup[0].stateids=default
targetgroup[0].timer.period.values=0.125,0
targetgroup[0].timer.period.boosts=shoot_rate(-1.0)
targetgroup[0].timer.instantrefresh=1
targetgroup[0].targettype=magic
targetgroup[0].cleanuptargets=1

actioncount=2

action[0].type=shoot
action[0].stateids=default
action[0].targetgroupindex=0
action[0].skill=Heavy_bolter_Full_auto__shot
action[0].spreadangle.values=9.0,0
action[0].spreadangle.boosts=spread(-1.0)

action[1].type=shoot_effect_template
action[1].skill=templ__shoot_effect
action[1].torkolateffect_filename=Heavy_weapons\Heavy_bolter\Heavy_bolter_Full_auto_shot_torkolat.N2E
action[1].sound_eventname=event:/weapon/3p/heavy_bolter
action[1].sound_eventname2d=event:/weapon/1p/heavy_bolter
