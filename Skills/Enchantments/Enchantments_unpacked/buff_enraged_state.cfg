
activationtype=passive
eots=positive
bufftokenname=Enraged
flags=play_during_cutscene

targetgroupcount=3
targetgroup[0].targettype=event_targets
targetgroup[0].event=post_attack
targetgroup[0].eventtarget=caster
targetgroup[0].cleanuptargets=1

targetgroup[1].targettype=filter_destination

targetgroup[2].targettype=caster

targetfiltercount=2
targetfilter[0].filter=must_have_token_greater_than_value
targetfilter[0].params=Keep_enraged_on_hit
targetfilter[0].floatparam.values=0.99,0
targetfilter[0].testtrue=0
targetfilter[0].sourcetgindices=0
targetfilter[0].destinationtgindices=1

targetfilter[1].filter=must_have_token_greater_than_value
targetfilter[1].params=Enraged
targetfilter[1].floatparam.values=10.1,0
targetfilter[1].sourcetgindices=2
targetfilter[1].destinationtgindices=2

actioncount=4

action[0].type=modifier
action[0].timer.maxrefreshcount.values=1,0
action[0].targettype=caster
action[0].mod.property=damage
action[0].mod.prioritygroup=bonus_multiplier
action[0].mod.values=0.03
action[0].mod.token=Enraged
action[0].mod.counttokenson=condition_target

action[1].type=token
action[1].targetgroupindex=1
action[1].token=Enraged
action[1].counttoadd.values=-1,0
action[1].keepuntilstop=1
action[1].forceset=1

action[2].type=boost
action[2].boostid=max_count_boost
action[2].boosttype=target_token_count
action[2].timer.maxrefreshcount.values=0,1
action[2].targetgroupindex=2
action[2].optionaltokenid=max_enraged_token_count
action[2].boost.values=1.00,0

action[3].type=token
action[3].targetgroupindex=2
action[3].token=Enraged
action[3].timer.period.values=0.50,0
action[3].counttoadd.values=0,0
action[3].maxcount.values=10,0
action[3].maxcount.boosts=max_count_boost(1.0)
action[3].keepuntilstop=1
action[3].forceset=1
